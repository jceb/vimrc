{
  "kustomization": {
    "prefix": "kustomization",
    "body": [
      "# Documentation: https://kubectl.docs.kubernetes.io/references/kustomize/kustomization/",
      "apiVersion: kustomize.config.k8s.io/v1beta1",
      "kind: Kustomization",
      "",
      "resources:",
      "  - xxx"
    ]
  },
  "component": {
    "prefix": "component",
    "body": [
      "# Documentation: https://kubectl.docs.kubernetes.io/guides/config_management/components/",
      "apiVersion: kustomize.config.k8s.io/v1alpha1",
      "kind: Component",
      "",
      "resources:",
      "  - xxx",
      "",
      "patchesJson6902:",
      "  - patch: |-",
      "      - op: replace",
      "        path: /xxx",
      "        value: |",
      "          data",
      "    target:",
      "      version: v1",
      "      kind: ConfigMap",
      "      name: xyz"
    ]
  },
  "fluxkustomization": {
    "prefix": "fluxkustomization",
    "body": [
      "# Documentation: https://fluxcd.io/docs/components/kustomize/kustomization/",
      "apiVersion: apiVersion: kustomize.toolkit.fluxcd.io/v1beta1",
      "kind: Kustomization",
      "",
      "spec:",
      "  decryption:",
      "    provider: sops",
      "    secretRef:",
      "      name: sops-gpg",
      "  interval: 10m",
      "  path: './dev'",
      "  prune: true",
      "  # wait: true # FIXME: enable with new version of fluxcd",
      "  sourceRef:",
      "    kind: GitRepository",
      "    name: helm-charts"
    ]
  },
  "k-networkpolicy": {
    "prefix": "k-networkpolicy",
    "body": [
      "# Documentation: https://kubernetes.io/docs/concepts/services-networking/network-policies/",
      "apiVersion: networking.k8s.io/v1",
      "kind: NetworkPolicy",
      "metadata:",
      "  name: ${1:test-network-policy}",
      "  namespace: ${1:test-network-policy}",
      "spec:",
      "  podSelector:",
      "    matchLabels:",
      "      app: ${1:test-network-policy}",
      "  policyTypes:",
      "    - Ingress",
      "  ingress:",
      "    - from:",
      "        - ipBlock:",
      "            cidr: 172.17.0.0/16",
      "            except:",
      "              - 172.17.1.0/24",
      "        - namespaceSelector:",
      "            matchLabels:",
      "              project: ${1:test-network-policy}",
      "        - podSelector:",
      "            matchLabels:",
      "              app: test-pod",
      "      ports:",
      "        - protocol: TCP",
      "          port: 80"
    ]
  }
}
